
FIND_PROGRAM(HDF5_DUMP h5dump)

SET(HDF5_ROOT ${HDF5_DUMP})
GET_FILENAME_COMPONENT(HDF5_ROOT ${HDF5_ROOT} PATH)
GET_FILENAME_COMPONENT(HDF5_ROOT ${HDF5_ROOT} PATH)

FIND_PATH(HDF5_INCLUDES H5public.h ${HDF5_ROOT}/include)
SET(HDF5_INCLUDES -I${HDF5_INCLUDES})

IF(WINDOWS)
  FIND_LIBRARY(HDF5_LIBS hdf5d ${HDF5_ROOT}/lib)
ELSE(WINDOWS)
  FIND_LIBRARY(HDF5_LIBS hdf5 ${HDF5_ROOT}/lib)
ENDIF(WINDOWS)

#SET(ZLIB_ROOT $ENV{ZLIB_ROOT})
#STRING(LENGTH "${ZLIB_ROOT}" NB)
#IF(${NB} GREATER 0)
#  FIND_LIBRARY(ZLIB_LIBS zlib ${ZLIB_ROOT}/lib)
#  SET(HDF5_LIBS ${HDF5_LIBS} ${ZLIB_LIBS})
#ENDIF(${NB} GREATER 0)

#SET(SZIP_ROOT $ENV{SZIP_ROOT})
#STRING(LENGTH "${SZIP_ROOT}" NB)
#IF(${NB} GREATER 0)
#  FIND_LIBRARY(SZIP_LIBS szlib ${SZIP_ROOT}/lib)
#  SET(HDF5_LIBS ${HDF5_LIBS} ${SZIP_LIBS})
#ENDIF(${NB} GREATER 0)
